#!/usr/bin/env ruby
# frozen_string_literal: true

#
# This file was generated by Bundler.
#
# The application 'rubycritic' is installed as part of a gem, and
# this file is here to facilitate running it.
#

ENV["BUNDLE_GEMFILE"] ||= File.expand_path("../Gemfile", __dir__)

require "rubygems"
require "bundler/setup"

# Workaround for flog 4.9.x incompatibility with Ruby 3.4
# https://github.com/seattlerb/flog/issues/81
# Remove this patch once flog is updated.
require "rubycritic/analysers/helpers/flog"

module RubyCritic
  class Flog < ::Flog
    def initialize(options = {})
      fixed = { all: true, continue: true, methods: true }
      super(fixed.merge(options.to_h).dup)
    end
  end
end

load Gem.bin_path("rubycritic", "rubycritic")
